{% extends 'base.html' %}
{% load static %}

{% block title %}–í—Å–µ —Ü–µ–ª–∏ - –ú–æ–∏ —Ü–µ–ª–∏{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'index.css' %}">
{% endblock %}

{% block content %}
    <h1 class="page-title">–í—Å–µ —Ü–µ–ª–∏</h1>
    <p class="page-subtitle">–í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏</p>

    {% if goals %}
        {% for goal in goals %}
            <div class="goal-item">
                <h2 class="goal-title">
                    <a href="{% url 'goal_detail' goal.id %}">{{ goal.title }}</a>
                </h2>
                <p class="goal-description">{{ goal.description }}</p>

                <div class="goal-meta">
                    <span class="deadline">üìÖ {{ goal.deadline }}</span>
                    <span class="status status-{{ goal.status }}">
                        {% if goal.status == 'in_progress' %}–í –ø—Ä–æ—Ü–µ—Å—Å–µ{% else %}‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ{% endif %}
                    </span>
                </div>

                <div class="quick-actions">
                    <form method="post" action="{% url 'toggle_goal_status' goal.id %}" style="display: inline;">
                        {% csrf_token %}
                        {% if goal.status == 'in_progress' %}
                            <button type="submit" class="btn btn-primary btn-sm">
                                ‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π
                            </button>
                        {% else %}
                            <button type="submit" class="btn btn-outline btn-sm">
                                üîÑ –í–µ—Ä–Ω—É—Ç—å –≤ —Ä–∞–±–æ—Ç—É
                            </button>
                        {% endif %}
                    </form>
                    <a href="{% url 'goal_detail' goal.id %}" class="btn btn-secondary btn-sm">
                        üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <h3>–¶–µ–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h3>
            <p>–ù–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ü–µ–ª–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞!</p>
        </div>
    {% endif %}
{% endblock %}