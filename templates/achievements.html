{% extends 'base.html' %}
{% load static %}

{% block title %}–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è - –ú–æ–∏ —Ü–µ–ª–∏{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'achievements.css' %}">
{% endblock %}

{% block content %}
    <div class="achievements-header">
        <h1 class="page-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h1>
    </div>

    {% if goals %}
        <p class="achievements-count">
            –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ü–µ–ª–µ–π: <strong>{{ goals|length }}</strong>
            <span class="count-badge">{{ goals|length }}</span>
        </p>

        {% for goal in goals %}
            <div class="completed-goal">
                <h2 class="completed-title">
                    <a href="{% url 'goal_detail' goal.id %}">{{ goal.title }}</a>
                </h2>
                <p class="goal-description">{{ goal.description }}</p>
                <div class="completed-meta">
                    <span class="completion-date">–ó–∞–≤–µ—Ä—à–µ–Ω–æ: {{ goal.deadline }}</span>
                    <form method="post" action="{% url 'reopen_goal' goal.id %}" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-outline btn-sm">
                            üîÑ –í–µ—Ä–Ω—É—Ç—å –≤ —Ä–∞–±–æ—Ç—É
                        </button>
                    </form>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div class="empty-achievements">
            <h3>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</h3>
            <p>–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–≤–æ–∏–º–∏ —Ü–µ–ª—è–º–∏!</p>
            <a href="{% url 'index' %}" class="return-link">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ü–µ–ª–µ–π ‚Üí</a>
        </div>
    {% endif %}
{% endblock %}